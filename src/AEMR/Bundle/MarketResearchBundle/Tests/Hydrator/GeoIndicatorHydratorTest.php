<?php

namespace AEMR\Bundle\MarketResearchBundle\Tests\Hydrator;

use Symfony\Bundle\FrameworkBundle\Test\WebTestCase;

class GeoIndicatorHydratorTest extends WebTestCase {

    public function setUp() {
        self::$kernel = self::createKernel();
        self::$kernel->boot();
        $this->container = self::$kernel->getContainer();
    }

    public function testIndicator() {
        $hydrator = new \AEMR\Bundle\MarketResearchBundle\Hydrator\GeoIndicatorHydrator();
        $hydrator->setList($this->getList());
        $service = $this->container->get('geoindicator_service');
        $data = $this->getInsertData();

        $result = $service->insert($data);
        print_r($result);
        // $result = $hydrator->hydrateModel($data);

        $this->assertEquals(1, 1);
    }



    protected function getList() {
        $data = array();
        $data[] = array('id' => 1, 'name' => 'Afghanistan', 'code' => 'AF', 'code_3' => 'AFG');
        $data[] = array('id' => 2, 'name' => 'Albania', 'code' => 'AL', 'code_3' => 'ALB');
        return $data;
    }
    
    protected function getInsertData() {

        $response = '{"name":"Trading Economics Rating","code":"TE.RATING","description":"The Trading Economics (TE) credit rating is driven by a model created at Trading Economics. We take into account the average grade given by credit rating agencies plus multiple economic indicators, exchange rates, government bond yields, stock indexes, commodity prices and very little discretion. Unlike the ratings provided by the major credit agencies, our index is numerical because we believe it is easier to understand and visualize on historical data charts and more insightful when comparing multiple countries. Our ratings are also more quantitative and more independent because they are less likely to be manipulated by a single credit rating agency.","series":[["country","",null,null,null,null,null,"2015",null],["Albania","B","positive","B1","stable","","","33","stable"],["Andorra","BBB-","watch neg","","","","","70","negative"],["Angola","B+","stable","Ba2","negative","BB-","negative","41","stable"],["Argentina","SD","nm","Caa1","negative","RD","","20","nm"],["Armenia","","","Ba3","negative","B+","stable","43","stable"],["Aruba","BBB+","stable","","","BBB-","stable","60","stable"],["Australia","AAA","stable","Aaa","stable","AAA","stable","97","stable"],["Austria","AA+","stable","Aaa","stable","AA+","stable","98","stable"],["Azerbaijan","BBB-","negative","Baa3","stable","BBB-","stable","55","stable"],["Bahamas","BBB","negative","Baa2","stable","","","60","negative"],["Bahrain","BBB-","negative","Baa3","negative","BBB","negative","60","stable"],["Bangladesh","BB-","stable","Ba3","stable","BB-","stable","40","stable"],["Barbados","B","negative","B3","negative","","","33","negative"],["Belarus","B-","stable","Caa1","negative","","","25","stable"],["Belgium","AA","stable","Aa3","stable","AA","negative","88","stable"],["Belize","B-","positive","Caa2","stable","","","20","stable"],["Bermuda","A+","stable","A1","stable","A+","stable","81","negative"],["Bolivia","BB","stable","Ba3","stable","BB-","positive","41","stable"],["Bosnia and Herzegovina","B","stable","B3","stable","","","28","stable"],["Botswana","A-","stable","A2","stable","","","73","stable"],["Brazil","BBB-","stable","Baa2","negative","BBB","negative","47","stable"],["Bulgaria","BB+","stable","Baa2","stable","BBB-","stable","53","stable"],["Burkina Faso","B-","stable","","","","","30","stable"],["Cambodia","","","B2","stable","","","30","stable"],["Cameroon","B","stable","","","B","stable","30","stable"],["Canada","AAA","stable","Aaa","stable","AAA","stable","98","stable"],["Cape Verde","B","stable","","","B","stable","30","stable"],["Cayman Islands","","","Aa3","stable","","","85",""],["Chile","AA-","stable","Aa3","stable","A+","stable","78","stable"],["China","AA-","stable","Aa3","stable","A+","stable","79","stable"],["Colombia","BBB","stable","Baa2","stable","BBB","stable","53","stable"],["Congo","B-","stable","B3","stable","","","25","stable"],["Costa Rica","BB","stable","Ba1","stable","BB+","negative","49","stable"],["Croatia","BB","stable","Ba1","negative","BB","stable","43","stable"],["Cuba","","","Caa2","stable","","","15","stable"],["Cyprus","B+","positive","B3","stable","B-","positive","23","positive"],["Czech Republic","AA-","stable","A1","stable","A+","stable","80","stable"],["Denmark","AAA","stable","Aaa","stable","AAA","stable","99","stable"],["Dominican Republic","B+","stable","B1","stable","B+","stable","33","stable"],["Ecuador","B+","stable","B3","stable","B","stable","29","stable"],["Egypt","B-","stable","B3","stable","B","stable","24","stable"],["El Salvador","B+","stable","Ba3","stable","BB-","negative","40","negative"],["Estonia","AA-","stable","A1","stable","A+","stable","81","stable"],["Ethiopia","B","stable","B1","stable","B","stable","31","stable"],["Fiji","B+","stable","B1","stable","","","33","positive"],["Finland","AA+","stable","Aaa","stable","AAA","negative","98","stable"],["France","AA","negative","Aa1","negative","AA","stable","93","stable"],["Gabon","B+","stable","Ba3","stable","BB-","negative","40","stable"],["Georgia","BB-","stable","Ba3","positive","BB-","stable","40","stable"],["Germany","AAA","stable","Aaa","stable","AAA","stable","99","stable"],["Ghana","B-","stable","B3","negative","B","negative","30","negative"],["Greece","CCC+","negative","Caa2","negative","CCC","","20","stable"],["Guatemala","BB","stable","Ba1","stable","BB","stable","46","stable"],["Honduras","B","stable","B3","stable","","","28","stable"],["Hong Kong","AAA","stable","Aa1","stable","AA+","stable","94","stable"],["Hungary","BB+","stable","Ba1","stable","BB+","stable","45","stable"],["Iceland","BBB-","positive","Baa3","stable","BBB","positive","51","positive"],["India","BBB-","stable","Baa3","positive","BBB-","stable","47","stable"],["Indonesia","BB+","stable","Baa3","stable","BBB-","stable","46","stable"],["Ireland","A","stable","Baa1","stable","A-","stable","67","positive"],["Isle of Man","","","Aa1","stable","","","95","stable"],["Israel","A+","stable","A1","stable","A","stable","75","stable"],["Italy","BBB-","stable","Baa2","stable","BBB+","stable","60","negative"],["Ivory Coast","","","B1","positive","B","positive","33","positive"],["Jamaica","B-","positive","Caa3","positive","B-","positive","21","positive"],["Japan","AA-","negative","A1","stable","A","stable","82","negative"],["Jordan","BB-","stable","B1","stable","","","38","negative"],["Kazakhstan","BBB","negative","Baa2","stable","BBB+","stable","64","negative"],["Kenya","B+","stable","B1","stable","B+","stable","23","stable"],["Kuwait","AA","stable","Aa2","stable","AA","stable","90","stable"],["Latvia","A-","stable","A3","stable","A-","stable","66","stable"],["Lebanon","B-","stable","B2","negative","B","negative","30","stable"],["Lesotho","","","","","BB-","stable","40","stable"],["Liechtenstein","AAA","stable","","","","","100","stable"],["Lithuania","A-","stable","Baa1","positive","A-","stable","66","stable"],["Luxembourg","AAA","stable","Aaa","stable","AAA","stable","100","stable"],["Macao","","","Aa2","stable","AA-","stable","88","stable"],["Macedonia","BB-","stable","","","BB+","stable","45","stable"],["Malaysia","A-","stable","A3","positive","A-","negative","66","stable"],["Malta","BBB+","stable","A3","stable","A","stable","71","stable"],["Mauritius","","","Baa1","stable","","","65",""],["Mexico","BBB+","stable","A3","stable","BBB+","stable","61","stable"],["Moldova","","","B3","stable","","","25",""],["Mongolia","B+","negative","B2","negative","B+","negative","34","stable"],["Montenegro","B+","stable","Ba3","negative","","","40","negative"],["Morocco","BBB-","stable","Ba1","stable","BBB-","stable","54","stable"],["Mozambique","B","stable","B1","stable","B+","stable","34","stable"],["Namibia","","","Baa3","stable","BBB-","stable","55","stable"],["Netherlands","AA+","stable","Aaa","stable","AAA","stable","98","stable"],["New Zealand","AA","stable","Aaa","stable","AA","positive","88","stable"],["Nicaragua","","","B3","stable","","","25",""],["Nigeria","B+","stable","Ba3","stable","BB-","negative","27","negative"],["Norway","AAA","stable","Aaa","stable","AAA","stable","98","stable"],["Oman","A-","stable","A1","negative","","","78","stable"],["Pakistan","B-","stable","Caa1","positive","","","9","stable"],["Panama","BBB","stable","Baa2","stable","BBB","stable","60","stable"],["Papua New Guinea","B+","stable","B1","stable","","","35","stable"],["Paraguay","BB","stable","Ba1","stable","BB","stable","43","stable"],["Peru","BBB+","stable","A3","stable","BBB+","stable","61","stable"],["Philippines","BBB","stable","Baa2","stable","BBB-","stable","52","stable"],["Poland","A-","positive","A2","stable","A-","stable","69","stable"],["Portugal","BB","positive","Ba1","stable","BB+","positive","45","stable"],["Puerto Rico","B","negative","Caa1","negative","","","38","negative"],["Qatar","AA","stable","Aa2","stable","","","87","stable"],["Republic of the Congo","B","stable","Ba3","stable","B+","stable","36","stable"],["Romania","BBB-","stable","Baa3","stable","BBB-","stable","51","stable"],["Russia","BB+","negative","Ba1","negative","BBB-","negative","50","negative"],["Rwanda","B+","stable","","","B+","stable","33","positive"],["San Marino","","","","","BBB+","stable","65","stable"],["Saudi Arabia","AA-","negative","Aa3","stable","AA","stable","88","positive"],["Senegal","B+","stable","B1","positive","","","35","stable"],["Serbia","BB-","negative","B1","stable","B+","stable","36","negative"],["Seychelles","","","","","B+","stable","35","stable"],["Singapore","AAA","stable","Aaa","stable","AAA","stable","98","stable"],["Slovakia","A","positive","A2","stable","A+","stable","76","positive"],["Slovenia","A-","stable","Baa3","stable","BBB+","stable","60","negative"],["South Africa","BBB-","stable","Baa2","stable","BBB","negative","52","stable"],["South Korea","A+","positive","Aa3","positive","AA-","stable","81","positive"],["Spain","BBB","stable","Baa2","positive","BBB+","stable","60","stable"],["Sri Lanka","B+","stable","B1","stable","BB-","stable","38","stable"],["St Vincent and the Grenadines","","","B3","negative","","","30",""],["Suriname","BB-","stable","Ba3","stable","BB-","stable","40","stable"],["Sweden","AAA","stable","Aaa","stable","AAA","stable","99","stable"],["Switzerland","AAA","stable","Aaa","stable","AAA","stable","100","stable"],["Taiwan","AA-","stable","Aa3","stable","A+","stable","81","stable"],["Thailand","BBB+","stable","Baa1","stable","BBB+","stable","62","stable"],["Trinidad and Tobago","A","stable","Baa2","negative","","","70","stable"],["Tunisia","","","Ba3","negative","BB-","stable","40","negative"],["Turkey","BB+","negative","Baa3","negative","BBB-","stable","45","negative"],["Uganda","B","stable","B1","stable","B+","stable","31","stable"],["Ukraine","CC","negative","Ca","negative","CC","","16","stable"],["United Arab Emirates","AA","stable","Aa2","stable","AA","stable","90","stable"],["United Kingdom","AAA","stable","AA1","stable","AA+","stable","94","stable"],["United States","AA+","stable","Aaa","stable","AAA","stable","97","stable"],["Uruguay","BBB-","stable","Baa2","stable","BBB-","stable","56","stable"],["Venezuela","CCC","negative","Caa3","stable","CCC","","9","negative"],["Vietnam","BB-","stable","B1","stable","BB-","stable","30","stable"],["Zambia","B+","negative","B1","stable","B","stable","33","negative"],[null,null,null,null,null,null,null,null,null]]}';
        return json_decode($response, true);
       
    }


    protected function getUpdateData() {
        
    }

    protected function tearDown() {
    }

}
